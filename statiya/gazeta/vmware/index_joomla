<p> </p>
<p><strong>Скачиваем пакеты : </strong></p>
<table border="1">
<tbody>
<tr>
<td><a href="http://download3.vmware.com/software/vmserver/VMware-mui-1.0.5-80187.tar.gz"><span style="color: green; font-size:2 x-small;"><strong>VMware-mui-1.0.5-80187.tar.gz</strong></span><strong> </strong></a></td>
</tr>
<tr>
<td><a href="http://download3.vmware.com/software/vmserver/VMware-server-1.0.5-80187.i386.rpm"><span style="color: green; font-size:2 x-small;"><strong>VMware-server-1.0.5-80187.i386.rpm</strong></span><strong> </strong></a></td>
</tr>
</tbody>
</table>
<p> </p>
<p><strong>Должен быть установлен пакет : </strong> <span style="color: green; font-size: x-small;"><strong>kernel-headers</strong></span><strong> </strong></p>
<p> </p>
<p><strong>Нынешнее ядро </strong></p>
<div class="code">[root@lora init.d]# uname -r<br /> 2.6.22.14-72.fc6</div>
<p> </p>
<p><strong>Установка и настройка vmware-server </strong></p>
<p><span style="color: red;">1.1</span> Установка</p>
<div class="codeheader">/root</div>
<div class="code">[root@lora vmware]# rpm -ihv VMware-server-1.0.5-80187.i386.rpm<br /> Preparing...                ########################################### [100%]<br /> 1:VMware-server          ########################################### [100%]<br /> [root@lora vmware]#</div>
<p><br /> <span style="color: red;">1.2</span> Настройка <br /> Запускаем фаил vmware-config.pl ---&gt; /usr/bin</p>
<div class="codeheader">/root</div>
<div class="code">[root@lora bin]# ./vmware-config.pl<br /> Making sure services for VMware Server are stopped.<br /> <br /> Stopping VMware services:<br /> Virtual machine monitor                                 [  OK  ]<br /> <br /> You must read and accept the End User License Agreement to continue.<br /> Press enter to display it.<br /> <br /> VMWARE MASTER END USER LICENSE AGREEMENT<br /> <br /> NOTICE:  BY DOWNLOADING AND INSTALLING,<br /> COPYING OR OTHERWISE USING THE SOFTWARE, YOU<br /> AGREE TO BE BOUND BY THE TERMS OF THIS EULA.<br /> ...........................................................................<br /> <br /> Do you accept? (yes/no) yes<br /> <br /> Thank you.<br /> <br /> Configuring fallback GTK+ 2.4 libraries.<br /> <br /> In which directory do you want to install the mime type icons?<br /> [/usr/share/icons]<br /> <br /> What directory contains your desktop menu entry files? These files have a<br /> .desktop file extension. [/usr/share/applications]<br /> <br /> In which directory do you want to install the application's icon?<br /> [/usr/share/pixmaps]<br /> <br /> Trying to find a suitable vmmon module for your running kernel.<br /> <br /> None of the pre-built vmmon modules for VMware Server is suitable for your<br /> running kernel.  Do you want this program to try to build the vmmon module for<br /> your system (you need to have a C compiler installed on your system)? [yes]<br /> <br /> Using compiler "/usr/bin/gcc". Use environment variable CC to override.<br /> <br /> What is the location of the directory of C header files that match your running<br /> kernel? [/lib/modules/2.6.22.14-72.fc6/build/include]<br /> <br /> Extracting the sources of the vmmon module.<br /> <br /> Building the vmmon module.<br /> <br /> Using 2.6.x kernel build system.<br /> make: Entering directory `/tmp/vmware-config0/vmmon-only'<br /> make -C /lib/modules/2.6.22.14-72.fc6/build/include/.. SUBDIRS=$PWD SRCROOT=$PWD/. modules<br /> make[1]: Entering directory `/usr/src/kernels/2.6.22.14-72.fc6-x86_64'<br /> CC [M]  /tmp/vmware-config0/vmmon-only/linux/driver.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/linux/hostif.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/cpuid.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/hash.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/memtrack.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/phystrack.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/task.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/common/vmx86.o<br /> CC [M]  /tmp/vmware-config0/vmmon-only/vmcore/moduleloop.o<br /> LD [M]  /tmp/vmware-config0/vmmon-only/vmmon.o<br /> Building modules, stage 2.<br /> MODPOST 1 modules<br /> CC      /tmp/vmware-config0/vmmon-only/vmmon.mod.o<br /> LD [M]  /tmp/vmware-config0/vmmon-only/vmmon.ko<br /> make[1]: Leaving directory `/usr/src/kernels/2.6.22.14-72.fc6-x86_64'<br /> cp -f vmmon.ko ./../vmmon.o<br /> make: Leaving directory `/tmp/vmware-config0/vmmon-only'<br /> The module loads perfectly in the running kernel.<br /> <br /> Do you want networking for your virtual machines? (yes/no/help) [yes]<br /> <br /> Configuring a bridged network for vmnet0.<br /> <br /> The following bridged networks have been defined:<br /> <br /> . vmnet0 is bridged to eth0<br /> <br /> All your ethernet interfaces are already bridged.<br /> <br /> Do you want to be able to use NAT networking in your virtual machines? (yes/no)<br /> [yes]<br /> <br /> Configuring a NAT network for vmnet8.<br /> <br /> Do you want this program to probe for an unused private subnet? (yes/no/help)<br /> [yes]<br /> <br /> Probing for an unused private subnet (this can take some time)...<br /> <br /> The subnet 172.16.30.0/255.255.255.0 appears to be unused.<br /> <br /> This system appears to have a DHCP server configured for normal use.  Beware<br /> that you should teach it how not to interfere with VMware Server's DHCP server.<br /> There are two ways to do this:<br /> <br /> 1) Modify the file /etc/dhcpd.conf to add something like:<br /> <br /> subnet 172.16.30.0 netmask 255.255.255.0 {<br /> # Note: No range is given, vmnet-dhcpd will deal with this subnet.<br /> }<br /> <br /> 2) Start your DHCP server with an explicit list of network interfaces to deal<br /> with (leaving out vmnet8). e.g.:<br /> <br /> dhcpd eth0<br /> <br /> Consult the dhcpd(8) and dhcpd.conf(5) manual pages for details.<br /> <br /> Hit enter to continue.<br /> <br /> The following NAT networks have been defined:<br /> <br /> . vmnet8 is a NAT network on private subnet 172.16.30.0.<br /> <br /> Do you wish to configure another NAT network? (yes/no) [no]<br /> <br /> Do you want to be able to use host-only networking in your virtual machines?<br /> [yes]<br /> <br /> Configuring a host-only network for vmnet1.<br /> <br /> Do you want this program to probe for an unused private subnet? (yes/no/help)<br /> [yes]<br /> <br /> Probing for an unused private subnet (this can take some time)...<br /> <br /> The subnet 192.168.111.0/255.255.255.0 appears to be unused.<br /> <br /> This system appears to have a DHCP server configured for normal use.  Beware<br /> that you should teach it how not to interfere with VMware Server's DHCP server.<br /> There are two ways to do this:<br /> <br /> 1) Modify the file /etc/dhcpd.conf to add something like:<br /> <br /> subnet 192.168.111.0 netmask 255.255.255.0 {<br /> # Note: No range is given, vmnet-dhcpd will deal with this subnet.<br /> }<br /> <br /> 2) Start your DHCP server with an explicit list of network interfaces to deal<br /> with (leaving out vmnet1). e.g.:<br /> <br /> dhcpd eth0<br /> <br /> Consult the dhcpd(8) and dhcpd.conf(5) manual pages for details.<br /> <br /> Hit enter to continue.<br /> <br /> The following host-only networks have been defined:<br /> <br /> . vmnet1 is a host-only network on private subnet 192.168.111.0.<br /> <br /> Do you wish to configure another host-only network? (yes/no) [no]<br /> <br /> Extracting the sources of the vmnet module.<br /> <br /> Building the vmnet module.<br /> <br /> Using 2.6.x kernel build system.<br /> make: Entering directory `/tmp/vmware-config0/vmnet-only'<br /> make -C /lib/modules/2.6.22.14-72.fc6/build/include/.. SUBDIRS=$PWD SRCROOT=$PWD/. modules<br /> make[1]: Entering directory `/usr/src/kernels/2.6.22.14-72.fc6-x86_64'<br /> CC [M]  /tmp/vmware-config0/vmnet-only/driver.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/hub.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/userif.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/netif.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/bridge.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/procfs.o<br /> CC [M]  /tmp/vmware-config0/vmnet-only/smac_compat.o<br /> SHIPPED /tmp/vmware-config0/vmnet-only/smac_linux.x86_64.o<br /> LD [M]  /tmp/vmware-config0/vmnet-only/vmnet.o<br /> Building modules, stage 2.<br /> MODPOST 1 modules<br /> WARNING: could not find /tmp/vmware-config0/vmnet-only/.smac_linux.x86_64.o.cmd for /tmp/vmware-config0/vmnet-only/smac_linux.x86_64.o<br /> CC      /tmp/vmware-config0/vmnet-only/vmnet.mod.o<br /> LD [M]  /tmp/vmware-config0/vmnet-only/vmnet.ko<br /> make[1]: Leaving directory `/usr/src/kernels/2.6.22.14-72.fc6-x86_64'<br /> cp -f vmnet.ko ./../vmnet.o<br /> make: Leaving directory `/tmp/vmware-config0/vmnet-only'<br /> The module loads perfectly in the running kernel.<br /> <br /> The default port : 902 is not free. We have selected a suitable alternative<br /> port for VMware Server use. You may override this value now.<br /> Remember to use this port when connecting to this server.<br /> Please specify a port for remote console connections to use [904] 9991<br /> <br /> WARNING: VMware Server has been configured to run on a port different from the<br /> default port. Remember to use this port when connecting to this server.<br /> Stopping xinetd:                                           [  OK  ]<br /> Starting xinetd:                                           [  OK  ]<br /> Configuring the VMware VmPerl Scripting API.<br /> <br /> Building the VMware VmPerl Scripting API.<br /> <br /> Using compiler "/usr/bin/gcc". Use environment variable CC to override.<br /> <br /> Installing the VMware VmPerl Scripting API.<br /> <br /> The installation of the VMware VmPerl Scripting API succeeded.<br /> <br /> Do you want this program to set up permissions for your registered virtual<br /> machines?  This will be done by setting new permissions on all files found in<br /> the "/etc/vmware/vm-list" file. [no]<br /> <br /> Generating SSL Server Certificate<br /> <br /> In which directory do you want to keep your virtual machine files?<br /> [/var/lib/vmware/Virtual Machines] /samba/distribs/virtmachines<br /> <br /> Do you want to enter a serial number now? (yes/no/help) [no] yes<br /> <br /> Please enter your 20-character serial number.<br /> <br /> Type XXXXX-XXXXX-XXXXX-XXXXX or 'Enter' to cancel:  98D61-YPU2T-23650-486AR<br /> <br /> Starting VMware services:<br /> Virtual machine monitor                                 [  OK  ]<br /> Virtual ethernet                                        [  OK  ]<br /> Bridged networking on /dev/vmnet0                       [  OK  ]<br /> Host-only networking on /dev/vmnet1 (background)        [  OK  ]<br /> Host-only networking on /dev/vmnet8 (background)        [  OK  ]<br /> NAT service on /dev/vmnet8                              [  OK  ]<br /> Starting VMware virtual machines...                     [  OK  ]<br /> <br /> The configuration of VMware Server 1.0.5 build-80187 for Linux for this running<br /> kernel completed successfully.<br /> <br /> Я отвечал все поумолчанию (разработчик плохого не посоветует :) ), из менил несколько вещей:</div>
<li>remote console connections -------------------------------------&gt; 9991 (порт для удаленного подключение с консоли )</li>
<li>directory do you want to keep your virtual machine files -------&gt;/samba/distribs/virtmachines(где будем хранить файлы virtual machine ) </li>
<li>Please enter your 20-character serial number -------------------&gt;98D61-YPU2T-23650-486AR(можно взять на сайте разработчика)</li>
<p> </p>
<p><strong>Установка и настройка VMware Management Interface</strong></p>
<p><span style="color: red;">2.1</span> Распоковываем</p>
<div class="codeheader">/root</div>
<div class="code">[root@lora vmware]# tar -zxf VMware-mui-1.0.5-80187.tar.gz<br /> [root@lora vmware]# ls | grep vmware-mui<br /> vmware-mui-distrib</div>
<p><br /> <span style="color: red;">2.2</span> Настройка <br /> Запускаем фаил vmware-install.pl</p>
<div class="codeheader">/root/vmware-mui-distrib</div>
<div class="code">[root@lora vmware-mui-distrib]# ./vmware-install.pl<br /> Creating a new installer database using the tar3 format.<br /> <br /> You must read and accept the End User License Agreement to continue.<br /> Press enter to display it.<br /> <br /> VMWARE MASTER END USER LICENSE AGREEMENT<br /> <br /> NOTICE:  BY DOWNLOADING AND INSTALLING,<br /> COPYING OR OTHERWISE USING THE SOFTWARE, YOU<br /> AGREE TO BE BOUND BY THE TERMS OF THIS EULA.<br /> IF YOU DO NOT AGREE TO THE TERMS OF THIS EULA,<br /> YOU MAY NOT DOWNLOAD, INSTALL, COPY OR USE THE<br /> SOFTWARE, AND YOU MAY RETURN THE UNUSED<br /> SOFTWARE TO THE VENDOR FROM WHICH YOU ACQUIRED<br /> IT WITHIN THIRTY (30) DAYS AND REQUEST A<br /> REFUND OF THE LICENSE FEE, IF ANY, ALREADY<br /> PAID UPON SHOWING PROOF OF PAYMENT.<br /> .....................................................<br /> Do you accept? (yes/no) yes<br /> <br /> Thank you.<br /> <br /> Installing the content of the package.<br /> <br /> In which directory do you want to install the binary files?<br /> [/usr/bin]<br /> <br /> What is the directory that contains the init directories (rc0.d/ to rc6.d/)?<br /> [/etc/rc.d]<br /> <br /> What is the directory that contains the init scripts?<br /> [/etc/rc.d/init.d]<br /> <br /> In which directory do you want to install the VMware Management Interface<br /> files? [/usr/lib/vmware-mui]<br /> <br /> The path "/usr/lib/vmware-mui" does not exist currently. This program is going<br /> to create it, including needed parent directories. Is this what you want?<br /> [yes]<br /> <br /> In which directory would you like to install the documentation files?<br /> [/usr/lib/vmware-mui/doc]<br /> <br /> The path "/usr/lib/vmware-mui/doc" does not exist currently. This program is<br /> going to create it, including needed parent directories. Is this what you want?<br /> [yes]<br /> <br /> The installation of VMware Management Interface 1.0.5 build-80187 for Linux<br /> completed successfully. You can decide to remove this software from your system<br /> at any time by invoking the following command:<br /> "/usr/bin/vmware-uninstall-mui.pl".<br /> <br /> Before running VMware Management Interface for the first time, you need to<br /> configure it by invoking the following command:<br /> "/usr/bin/vmware-config-mui.pl". Do you want this program to invoke the command<br /> for you now? [yes]<br /> <br /> Configuring httpd.conf to run Apache as:<br /> User: www and Group: nobody<br /> <br /> Set the number of minutes before a http session times out. (This is the length<br /> of time before someone connecting to VMware Management Interface will be logged<br /> out) [60]<br /> <br /> Generating SSL Server Certificate<br /> <br /> Starting httpd.vmware:                                  [  OK  ]<br /> The configuration of VMware Management Interface completed successfully.<br /> <br /></div>
<p> </p>
<p><strong>Проверим </strong></p>
<p><span style="color: red;">3.1</span> Было создано два интерфейса:</p>
<div class="code">vmnet1    Link encap:Ethernet  HWaddr 00:50:56:C0:00:01<br /> inet addr:192.168.111.1  Bcast:192.168.111.255  Mask:255.255.255.0<br /> inet6 addr: fe80::250:56ff:fec0:1/64 Scope:Link<br /> UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1<br /> RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br /> TX packets:6 errors:0 dropped:0 overruns:0 carrier:0<br /> collisions:0 txqueuelen:1000<br /> RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)<br /> <br /> vmnet8    Link encap:Ethernet  HWaddr 00:50:56:C0:00:08<br /> inet addr:172.16.30.1  Bcast:172.16.30.255  Mask:255.255.255.0<br /> inet6 addr: fe80::250:56ff:fec0:8/64 Scope:Link<br /> UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1<br /> RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br /> TX packets:6 errors:0 dropped:0 overruns:0 carrier:0<br /> collisions:0 txqueuelen:1000<br /> RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)<br /> <br /></div>
<p><br /> <span style="color: red;">3.2</span> Три наших порта в состоянии -&gt; Listen</p>
<div class="code">tcp        0      0 0.0.0.0:8333                0.0.0.0:*                   LISTEN      9532/httpd.vmware<br /> tcp        0      0 0.0.0.0:8222                0.0.0.0:*                   LISTEN      9532/httpd.vmware<br /> tcp        0      0 0.0.0.0:9991                0.0.0.0:*                   LISTEN      9018/xinetd</div>
<p><br /> Ну и все , можете создавать вируальные сервера сколько нужно(это уже зависит от мощности вашего сервака)</p>